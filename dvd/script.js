"use strict";(()=>{const l=["#00a","#a0a","#a00","#aa0","#0a0","#0aa"],a=$("main svg");let i=a.getBoundingClientRect();const t=$("main");let s=t.getBoundingClientRect(),d=Math.min(s.width,s.height),o={r:s.width-i.width,b:s.height-i.height},e={t:0,l:0},n={t:2e-4,l:2e-4};function u(e,t,n){return Math.min(Math.max(e,t),n)}function f(e,t){let n=null;return()=>{n&&window.clearInterval(n),n=window.setTimeout(()=>{n=null,e()},t)}}let r=-1;function h(){r=(r+1)%l.length,a.style.fill=l[r]}function p(t=5,s=20){const i=n.t,a=-n.l,d=i*e.l+a*e.t,u=Math.sqrt(i*i+a*a),h=Math.sign(n.l),m=Math.sign(n.t);let r=null,c=1/0;for(let e=t+1;e<=s;++e)for(let n=t+1;n<=s;++n){const l=e*h*o.r,f=n*m*o.b,p=Math.abs(i*l+a*f-d)/u;p<c&&(c=p,r={x:l,y:f})}const l=Math.atan2(r.y,r.x);n.l=Math.cos(l)*2e-4,n.t=Math.sin(l)*2e-4}t.onclick=t.ontouchend=()=>{document.fullscreenElement?(t.style.outlineOffset="-1px",document.exitFullscreen().then(()=>{document.exitPointerLock()})):(t.style.outlineOffset="0",t.requestFullscreen().then(()=>{t.requestPointerLock()}))},t.onkeydown=e=>{(e.key==="Enter"||e.key===" ")&&t.onclick()},window.onresize=f(()=>{i=a.getBoundingClientRect(),s=t.getBoundingClientRect(),d=Math.min(s.width,s.height),o.r=s.width-i.width,o.b=s.height-i.height},30);let m=performance.now();function c(t){const s=(t-m)*d;if(m=t,s>6e4||s<10){requestAnimationFrame(c);return}e.t=u(0,e.t+n.t*s,o.b),e.l=u(0,e.l+n.l*s,o.r);let i=0;(e.t===o.b||e.t===0)&&(n.t*=-1,++i),(e.l===o.r||e.l===0)&&(n.l*=-1,++i),i&&h(),a.style.transform=`translate(${e.l}px, ${e.t}px)`,requestAnimationFrame(c)}t.tabIndex=0,p(),h(),requestAnimationFrame(c)})()