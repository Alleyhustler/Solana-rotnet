"use strict";(()=>{const o=/^\s*$/u;let t,n=[],e=null;function i(e){let n=[],t=[];for(const s of e.split(""))o.test(s)?t.length===0?n.push(s):(n.push("<word>",...t,"</word>",s),t.length=0):t.push("<char>",s,"</char>");return t.length>0&&n.push("<word>",...t,"</word>"),n.join("")}function a(e){for(const t of[...e.childNodes])if(t.nodeType===1)a(t);else if(t.nodeType===3&&!o.test(t.nodeValue))if(t.parentNode.childNodes.length===1)t.parentNode.innerHTML=i(t.nodeValue);else{const e=$(`<text>${i(t.nodeValue)}</text>`);t.parentNode.replaceChild(e,t)}}let r=performance.now();function c(s){const o=(s-r)/10;r=s;let i,a;e&&(i=e.clientX+document.documentElement.scrollLeft,a=e.clientY+document.documentElement.scrollTop,n=t);let l=[];for(const t of n){if(e){const e=t.offsetLeftStatic+t.tX-i,n=t.offsetTopStatic+t.tY-a,l=e*e,s=n*n,o=l+s,r=Math.min(5e4/o,30),c=Math.asin(s/o),d=Math.sin(c)*r*Math.sign(n),u=Math.cos(c)*r*Math.sign(e);t.vX+=u,t.vY+=d}const s=Math.exp(-.08*o);t.vX*=s,t.vY*=s,t.tX+=t.vX*o,t.tY+=t.vY*o;const c=t.tX*-1,r=1+(Math.abs(t.vX)+Math.abs(t.vY))/100;r>1.03&&(l.push(t),t.style.transform=`translate(${t.tX}px, ${t.tY}px) rotate(${c}deg) scale(${r})`)}e=null,n=l,requestAnimationFrame(c)}const s=$("main"),l=$("article");a(l),t=$("char");for(const e of t)e.tX=e.tY=e.vX=e.vY=0;window.onresize=()=>{for(const n of t){let e=n;for(n.offsetLeftStatic=n.offsetTopStatic=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n.offsetLeftStatic+=e.offsetLeft,n.offsetTopStatic+=e.offsetTop,e=e.offsetParent}},s.onclick=s.ontouchend=t=>{e=t},s.ontouchend=t=>{e=t.touches[0]},window.onresize(),requestAnimationFrame(c)})()